# ğŸ® topupforme Admin Panel

**topupforme é£æ ¼æ•°å­—å•†å“å¹³å°** - ç®¡ç†åå°ç³»ç»Ÿ

åŸºäº React + Vite + TypeScript + Ant Design æ„å»ºçš„ç°ä»£åŒ–ç®¡ç†åå°ï¼Œæ”¯æŒå¤šå¸ç§ã€å¤šåœ°åŒºã€å¤šè¯­è¨€çš„æ•°å­—å•†å“äº¤æ˜“å¹³å°ç®¡ç†ã€‚

---

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ç¯å¢ƒé…ç½®](#ç¯å¢ƒé…ç½®)
- [æ ¸å¿ƒæ¨¡å—](#æ ¸å¿ƒæ¨¡å—)
- [æƒé™æ§åˆ¶](#æƒé™æ§åˆ¶)
- [å›½é™…åŒ–](#å›½é™…åŒ–)
- [éƒ¨ç½²è¯´æ˜](#éƒ¨ç½²è¯´æ˜)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” è®¤è¯ä¸æˆæƒ
- âœ… JWT ä»¤ç‰Œè®¤è¯
- âœ… è§’è‰²æƒé™æ§åˆ¶ (Admin / Manager / Support)
- âœ… ç™»å½• / ç™»å‡º / å¯†ç é‡ç½®
- âœ… Protected Routes è·¯ç”±ä¿æŠ¤

### ğŸ“¦ å•†å“ç®¡ç†
- âœ… å•†å“ CRUD æ“ä½œ
- âœ… **å¤šåŒºåŸŸå®šä»·** (æ¯ä¸ªå•†å“æ”¯æŒå¤šä¸ªåœ°åŒºä»·æ ¼)
- âœ… å¤šè¯­è¨€åç§°ä¸æè¿° (EN / CN / TH)
- âœ… æ‰¹é‡å¯¼å…¥ (CSV/Excel)
- âœ… æ‰¹é‡å¯¼å‡º
- âœ… å›¾ç‰‡ä¸Šä¼ 
- âœ… åº“å­˜ç®¡ç†
- âœ… åˆ†ç±»ä¸æ ‡ç­¾

### ğŸ“‹ è®¢å•ç®¡ç†
- âœ… è®¢å•åˆ—è¡¨ä¸è¯¦æƒ…
- âœ… è®¢å•çŠ¶æ€ç®¡ç† (Pending â†’ Paid â†’ Delivered â†’ Completed)
- âœ… æ”¯ä»˜è®°å½•è¿½è¸ª
- âœ… é€€æ¬¾æ“ä½œ
- âœ… æ‰‹åŠ¨å‘è´§
- âœ… è®¢å•æœç´¢ä¸ç­›é€‰

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- âœ… ç”¨æˆ·åˆ—è¡¨ä¸è¯¦æƒ…
- âœ… ç”¨æˆ·è§’è‰²ç®¡ç†
- âœ… è´¦æˆ·æ¿€æ´»/å†»ç»“
- âœ… ç”¨æˆ·èµ„æ–™ç¼–è¾‘

### ğŸ’° é’±åŒ…ç®¡ç†
- âœ… ä½™é¢æŸ¥çœ‹
- âœ… å……å€¼/æ‰£æ¬¾æ“ä½œ (ç®¡ç†å‘˜)
- âœ… äº¤æ˜“è®°å½•è¿½è¸ª
- âœ… é’±åŒ…å†»ç»“/è§£å†»
- âœ… å¤šå¸ç§æ”¯æŒ (MYR, THB, USD, VND, PHP)

### ğŸ“Š æŠ¥è¡¨åˆ†æ
- âœ… Dashboard ä»ªè¡¨ç›˜
- âœ… é”€å”®é¢è¶‹åŠ¿å›¾ (Recharts)
- âœ… è®¢å•é‡ç»Ÿè®¡
- âœ… æ´»è·ƒç”¨æˆ·æ•°
- âœ… å„å¸ç§é”€å”®åˆ†å¸ƒ
- âœ… çƒ­é”€å•†å“æ’è¡Œ
- âœ… æŠ¥è¡¨å¯¼å‡º

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **React 18** - UI æ¡†æ¶
- **Vite 5** - æ„å»ºå·¥å…·
- **TypeScript** - ç±»å‹å®‰å…¨

### UI ç»„ä»¶åº“
- **Ant Design 5** - UI ç»„ä»¶
- **@ant-design/icons** - å›¾æ ‡åº“
- **Recharts** - å›¾è¡¨åº“

### è·¯ç”±ä¸çŠ¶æ€ç®¡ç†
- **React Router 6** - è·¯ç”±ç®¡ç†
- **Zustand** - çŠ¶æ€ç®¡ç†

### æ•°æ®è¯·æ±‚
- **Axios** - HTTP å®¢æˆ·ç«¯
- **TanStack Query (React Query)** - æ•°æ®è·å–ä¸ç¼“å­˜

### å›½é™…åŒ–
- **react-i18next** - å›½é™…åŒ–æ¡†æ¶
- **i18next** - i18n æ ¸å¿ƒ
- **i18next-browser-languagedetector** - è¯­è¨€è‡ªåŠ¨æ£€æµ‹

### å·¥å…·åº“
- **dayjs** - æ—¥æœŸå¤„ç†
- **lodash-es** - å·¥å…·å‡½æ•°
- **file-saver** - æ–‡ä»¶ä¸‹è½½
- **xlsx** - Excel å¯¼å…¥å¯¼å‡º

### ä»£ç è§„èŒƒ
- **ESLint** - ä»£ç æ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–
- **TypeScript ESLint** - TS è§„åˆ™

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
admin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.tsx                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ App.tsx                  # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ router/                  # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ index.tsx            # è·¯ç”±å®šä¹‰
â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx   # è·¯ç”±ä¿æŠ¤
â”‚   â”œâ”€â”€ pages/                   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard/           # ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ Products/            # å•†å“ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ProductImport.tsx
â”‚   â”‚   â”œâ”€â”€ Orders/              # è®¢å•ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderList.tsx
â”‚   â”‚   â”‚   â””â”€â”€ OrderDetail.tsx
â”‚   â”‚   â”œâ”€â”€ Users/               # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ UserList.tsx
â”‚   â”‚   â”‚   â””â”€â”€ UserDetail.tsx
â”‚   â”‚   â”œâ”€â”€ Wallets/             # é’±åŒ…ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ WalletList.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TransactionList.tsx
â”‚   â”‚   â”œâ”€â”€ Reports/             # æŠ¥è¡¨åˆ†æ
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard.tsx
â”‚   â”‚   â””â”€â”€ Auth/                # è®¤è¯é¡µé¢
â”‚   â”‚       â”œâ”€â”€ Login.tsx
â”‚   â”‚       â””â”€â”€ ResetPassword.tsx
â”‚   â”œâ”€â”€ components/              # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx      # ä¾§è¾¹æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx       # é¡¶éƒ¨å¯¼èˆª
â”‚   â”‚   â”‚   â””â”€â”€ MainLayout.tsx   # ä¸»å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ Table/               # è¡¨æ ¼ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ DataTable.tsx
â”‚   â”‚   â”œâ”€â”€ Form/                # è¡¨å•ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ FormField.tsx
â”‚   â”‚   â”‚   â””â”€â”€ UploadImage.tsx
â”‚   â”‚   â””â”€â”€ Chart/               # å›¾è¡¨ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ LineChart.tsx
â”‚   â”‚       â”œâ”€â”€ BarChart.tsx
â”‚   â”‚       â””â”€â”€ PieChart.tsx
â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ authStore.ts         # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ userStore.ts         # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â””â”€â”€ globalStore.ts       # å…¨å±€çŠ¶æ€
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts           # è®¤è¯ Hook
â”‚   â”‚   â”œâ”€â”€ useTable.ts          # è¡¨æ ¼ Hook
â”‚   â”‚   â””â”€â”€ useExport.ts         # å¯¼å‡º Hook
â”‚   â”œâ”€â”€ services/                # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.ts               # Axios é…ç½®
â”‚   â”‚   â”œâ”€â”€ auth.ts              # è®¤è¯ API
â”‚   â”‚   â”œâ”€â”€ product.ts           # å•†å“ API
â”‚   â”‚   â”œâ”€â”€ order.ts             # è®¢å• API
â”‚   â”‚   â”œâ”€â”€ user.ts              # ç”¨æˆ· API
â”‚   â”‚   â”œâ”€â”€ wallet.ts            # é’±åŒ… API
â”‚   â”‚   â””â”€â”€ report.ts            # æŠ¥è¡¨ API
â”‚   â”œâ”€â”€ types/                   # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts             # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ date.ts              # æ—¥æœŸå·¥å…·
â”‚   â”‚   â”œâ”€â”€ format.ts            # æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ storage.ts           # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ validation.ts        # éªŒè¯å·¥å…·
â”‚   â”‚   â””â”€â”€ index.ts             # å·¥å…·å¯¼å‡º
â”‚   â”œâ”€â”€ locales/                 # å›½é™…åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ en.json              # è‹±æ–‡
â”‚   â”‚   â”œâ”€â”€ zh.json              # ä¸­æ–‡
â”‚   â”‚   â”œâ”€â”€ th.json              # æ³°æ–‡
â”‚   â”‚   â””â”€â”€ i18n.ts              # i18n é…ç½®
â”‚   â”œâ”€â”€ styles/                  # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ global.css           # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ variables.css        # CSS å˜é‡
â”‚   â””â”€â”€ assets/                  # é™æ€èµ„æº
â”‚       â””â”€â”€ images/
â”œâ”€â”€ public/                      # å…¬å…±èµ„æº
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.ts               # Vite é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â”œâ”€â”€ .eslintrc.cjs                # ESLint é…ç½®
â”œâ”€â”€ .prettierrc                  # Prettier é…ç½®
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- npm >= 9.0.0
- åç«¯ API è¿è¡Œåœ¨ `http://localhost:3000`

### 2. å®‰è£…ä¾èµ–

```bash
cd admin
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env`:

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶:

```env
VITE_API_BASE_URL=http://localhost:3000
VITE_APP_NAME=topupforme Admin Panel
VITE_DEFAULT_LANGUAGE=en
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—®: `http://localhost:5173`

### 5. é»˜è®¤ç™»å½•è´¦å·

```
ç®¡ç†å‘˜è´¦å·:
Email: admin@topupforme.com
Password: Admin123456

ç»ç†è´¦å·:
Email: manager@topupforme.com
Password: Manager123

å®¢æœè´¦å·:
Email: support@topupforme.com
Password: Support123
```

---

## âš™ï¸ ç¯å¢ƒé…ç½®

### å¼€å‘ç¯å¢ƒ

```bash
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run type-check   # TypeScript ç±»å‹æ£€æŸ¥
npm run lint         # ESLint æ£€æŸ¥
npm run lint:fix     # è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯
npm run format       # Prettier æ ¼å¼åŒ–ä»£ç 
```

### ç”Ÿäº§æ„å»º

```bash
npm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview      # é¢„è§ˆç”Ÿäº§æ„å»º
```

### ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `VITE_API_BASE_URL` | åç«¯ API åœ°å€ | `http://localhost:3000` |
| `VITE_APP_NAME` | åº”ç”¨åç§° | `topupforme Admin Panel` |
| `VITE_DEFAULT_LANGUAGE` | é»˜è®¤è¯­è¨€ | `en` |
| `VITE_TOKEN_KEY` | Token å­˜å‚¨é”®å | `admin_token` |
| `VITE_MAX_UPLOAD_SIZE` | æœ€å¤§ä¸Šä¼ å¤§å° | `5242880` (5MB) |
| `VITE_DEFAULT_PAGE_SIZE` | é»˜è®¤åˆ†é¡µå¤§å° | `20` |

---

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—

### 1. å•†å“ç®¡ç†æ¨¡å—

#### å¤šåŒºåŸŸå®šä»·åŠŸèƒ½

æ¯ä¸ªå•†å“å¯ä»¥åœ¨å¤šä¸ªåœ°åŒºè®¾ç½®ä¸åŒçš„ä»·æ ¼ã€åº“å­˜å’Œä¸Šæ¶çŠ¶æ€:

```typescript
interface ProductRegionPrice {
  region: string;      // MY, TH, US, VN, PH
  currency: string;    // MYR, THB, USD, VND, PHP
  price: number;       // ä»·æ ¼
  stock: number;       // åº“å­˜
  isActive: boolean;   // æ˜¯å¦ä¸Šæ¶
}
```

**ç¤ºä¾‹**: Steam ç¤¼å“å¡åœ¨ä¸åŒåœ°åŒºçš„å®šä»·

| åœ°åŒº | è´§å¸ | ä»·æ ¼ | åº“å­˜ | çŠ¶æ€ |
|------|------|------|------|------|
| é©¬æ¥è¥¿äºš (MY) | MYR | RM 50.00 | 1000 | âœ… ä¸Šæ¶ |
| æ³°å›½ (TH) | THB | à¸¿350.00 | 500 | âœ… ä¸Šæ¶ |
| ç¾å›½ (US) | USD | $10.00 | 2000 | âœ… ä¸Šæ¶ |
| è¶Šå— (VN) | VND | â‚«200,000 | 300 | âŒ ä¸‹æ¶ |
| è²å¾‹å®¾ (PH) | PHP | â‚±500.00 | 800 | âœ… ä¸Šæ¶ |

#### API ç«¯ç‚¹

```typescript
// è·å–å•†å“åˆ—è¡¨ (æ”¯æŒå¤šåŒºåŸŸè¿‡æ»¤)
GET /api/products?region=MY&currency=MYR&page=1&pageSize=20

// åˆ›å»ºå•†å“ (åŒ…å«å¤šåŒºåŸŸå®šä»·)
POST /api/products
{
  "name": { "en": "Steam Card", "zh": "Steam å¡", "th": "à¸šà¸±à¸•à¸£ Steam" },
  "regionalPricing": [
    { "region": "MY", "currency": "MYR", "price": 50, "stock": 1000 },
    { "region": "TH", "currency": "THB", "price": 350, "stock": 500 }
  ]
}

// æ›´æ–°å•ä¸ªåœ°åŒºçš„åº“å­˜
PATCH /api/products/:id/stock
{ "region": "MY", "stock": 1500 }

// æ‰¹é‡å¯¼å…¥å•†å“
POST /api/products/import
FormData: file (CSV/Excel)
```

---

### 2. è®¢å•ç®¡ç†æ¨¡å—

#### è®¢å•çŠ¶æ€æµè½¬

```
pending (å¾…æ”¯ä»˜)
   â†“
paid (å·²æ”¯ä»˜)
   â†“
processing (å¤„ç†ä¸­)
   â†“
delivered (å·²å‘è´§)
   â†“
completed (å·²å®Œæˆ)

â†“ (å–æ¶ˆ/é€€æ¬¾)
cancelled / refunded
```

#### æ”¯ä»˜æ–¹å¼

- **Wallet** - é’±åŒ…ä½™é¢
- **Stripe** - ä¿¡ç”¨å¡/å€Ÿè®°å¡
- **Razer Gold** - æ¸¸æˆå……å€¼å¡
- **FPX** - é©¬æ¥è¥¿äºšé“¶è¡Œè½¬è´¦
- **USDT** - åŠ å¯†è´§å¸

#### API ç«¯ç‚¹

```typescript
// è·å–è®¢å•åˆ—è¡¨
GET /api/orders?status=paid&page=1

// æ›´æ–°è®¢å•çŠ¶æ€
PATCH /api/orders/:id/status
{ "status": "delivered" }

// æ‰‹åŠ¨å‘è´§
POST /api/orders/:id/deliver
{ "codes": ["XXXX-YYYY-ZZZZ"] }

// é€€æ¬¾
POST /api/orders/:id/refund
{ "reason": "Customer request" }
```

---

### 3. ç”¨æˆ·ä¸é’±åŒ…æ¨¡å—

#### é’±åŒ…ç»“æ„

```typescript
interface Wallet {
  balance: number;           // æ€»ä½™é¢
  frozenBalance: number;     // å†»ç»“ä½™é¢
  availableBalance: number;  // å¯ç”¨ä½™é¢ = balance - frozenBalance
  currency: string;          // å¸ç§
  status: 'active' | 'frozen' | 'closed';
}
```

#### äº¤æ˜“ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `deposit` | å……å€¼ | ç”¨æˆ·å……å€¼ $100 |
| `withdraw` | æç° | ç”¨æˆ·æç° $50 |
| `deduct` | æ‰£æ¬¾ | è´­ä¹°å•†å“æ‰£æ¬¾ $10 |
| `refund` | é€€æ¬¾ | è®¢å•å–æ¶ˆé€€æ¬¾ $10 |
| `fee` | æ‰‹ç»­è´¹ | æç°æ‰‹ç»­è´¹ $1 |
| `bonus` | å¥–åŠ± | æ³¨å†Œå¥–åŠ± $5 |
| `adjustment` | è°ƒæ•´ | ç®¡ç†å‘˜è°ƒæ•´ä½™é¢ |

#### API ç«¯ç‚¹

```typescript
// è·å–ç”¨æˆ·é’±åŒ…
GET /api/wallet/:userId

// å……å€¼ (ç®¡ç†å‘˜æ“ä½œ)
POST /api/wallet/:userId/deposit
{ "amount": 100, "description": "Manual deposit" }

// æç° (ç®¡ç†å‘˜æ“ä½œ)
POST /api/wallet/:userId/withdraw
{ "amount": 50, "description": "Manual withdraw" }

// å†»ç»“/è§£å†»é’±åŒ…
POST /api/wallet/:userId/freeze
POST /api/wallet/:userId/unfreeze
```

---

### 4. æŠ¥è¡¨åˆ†ææ¨¡å—

#### Dashboard ç»Ÿè®¡æŒ‡æ ‡

```typescript
interface DashboardSummary {
  totalSales: number;       // æ€»é”€å”®é¢
  totalOrders: number;      // æ€»è®¢å•æ•°
  activeUsers: number;      // æ´»è·ƒç”¨æˆ·æ•°
  pendingOrders: number;    // å¾…å¤„ç†è®¢å•
  todaySales: number;       // ä»Šæ—¥é”€å”®é¢
  todayOrders: number;      // ä»Šæ—¥è®¢å•æ•°
  salesGrowth: number;      // é”€å”®å¢é•¿ç‡ (%)
  ordersGrowth: number;     // è®¢å•å¢é•¿ç‡ (%)
}
```

#### å›¾è¡¨ç±»å‹

1. **é”€å”®è¶‹åŠ¿å›¾** (æŠ˜çº¿å›¾)
   - X è½´: æ—¥æœŸ
   - Y è½´: é”€å”®é¢/è®¢å•é‡

2. **å¸ç§åˆ†å¸ƒå›¾** (é¥¼å›¾)
   - æ˜¾ç¤ºå„å¸ç§é”€å”®å æ¯”

3. **çƒ­é”€å•†å“æ’è¡Œ** (æŸ±çŠ¶å›¾)
   - Top 10 å•†å“

4. **åœ°åŒºæ”¶å…¥åˆ†å¸ƒ** (åœ°å›¾ / è¡¨æ ¼)
   - å„åœ°åŒºé”€å”®é¢

#### API ç«¯ç‚¹

```typescript
// è·å– Dashboard æ‘˜è¦
GET /api/reports/summary?startDate=2024-01-01&endDate=2024-12-31

// è·å–é”€å”®å›¾è¡¨æ•°æ®
GET /api/reports/sales?groupBy=day

// è·å–å¸ç§åˆ†å¸ƒ
GET /api/reports/currency

// å¯¼å‡ºæŠ¥è¡¨
GET /api/reports/sales/export?format=csv
```

---

## ğŸ” æƒé™æ§åˆ¶

### è§’è‰²å®šä¹‰

| è§’è‰² | æƒé™ | èœå•è®¿é—® |
|------|------|---------|
| **admin** | å…¨éƒ¨æƒé™ | å…¨éƒ¨èœå• |
| **manager** | å•†å“ + è®¢å•ç®¡ç† | Dashboard, Products, Orders |
| **support** | æŸ¥çœ‹è®¢å• + ç”¨æˆ· | Dashboard, Orders (åªè¯»), Users (åªè¯») |

### å®ç°æ–¹å¼

#### 1. è·¯ç”±ä¿æŠ¤

```tsx
// router/ProtectedRoute.tsx
<Route element={<ProtectedRoute allowedRoles={['admin']} />}>
  <Route path="/users" element={<UserList />} />
</Route>
```

#### 2. ç»„ä»¶çº§æƒé™

```tsx
// ä½¿ç”¨ useAuth Hook
const { user, hasPermission } = useAuth();

{hasPermission(['admin', 'manager']) && (
  <Button>Edit Product</Button>
)}
```

#### 3. API å±‚æƒé™

```typescript
// services/api.ts
// åç«¯é€šè¿‡ JWT Token éªŒè¯ç”¨æˆ·è§’è‰²
headers: {
  Authorization: `Bearer ${token}`
}
```

---

## ğŸŒ å›½é™…åŒ– (i18n)

### æ”¯æŒè¯­è¨€

| è¯­è¨€ | ä»£ç  | ç¿»è¯‘é”®æ•° | å®Œæˆåº¦ |
|------|------|---------|--------|
| English | `en` | 200+ | âœ… 100% |
| ä¸­æ–‡ | `zh` | 200+ | âœ… 100% |
| à¹„à¸—à¸¢ | `th` | 200+ | âœ… 100% |

### ä½¿ç”¨æ–¹å¼

#### 1. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```tsx
import { useTranslation } from 'react-i18next';

const MyComponent = () => {
  const { t, i18n } = useTranslation();

  return (
    <div>
      <h1>{t('common.welcome')}</h1>
      <Button onClick={() => i18n.changeLanguage('zh')}>
        {t('common.chinese')}
      </Button>
    </div>
  );
};
```

#### 2. ç¿»è¯‘é”®ç»“æ„

```json
// locales/en.json
{
  "common": {
    "welcome": "Welcome",
    "save": "Save",
    "cancel": "Cancel"
  },
  "product": {
    "title": "Products",
    "addProduct": "Add Product"
  }
}
```

#### 3. è¯­è¨€åˆ‡æ¢

```tsx
// components/Layout/Header.tsx
<Select value={i18n.language} onChange={(lang) => i18n.changeLanguage(lang)}>
  <Option value="en">English</Option>
  <Option value="zh">ä¸­æ–‡</Option>
  <Option value="th">à¹„à¸—à¸¢</Option>
</Select>
```

### è‡ªåŠ¨è¯­è¨€æ£€æµ‹

```typescript
// locales/i18n.ts
import LanguageDetector from 'i18next-browser-languagedetector';

i18n
  .use(LanguageDetector) // è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€
  .init({
    fallbackLng: 'en',
    detection: {
      order: ['querystring', 'cookie', 'localStorage', 'navigator'],
    },
  });
```

---

## ğŸ“¦ æ ¸å¿ƒä¾èµ–è¯´æ˜

### UI ç»„ä»¶

```json
{
  "antd": "^5.12.0",              // Ant Design ç»„ä»¶åº“
  "@ant-design/icons": "^5.2.6",  // å›¾æ ‡åº“
  "recharts": "^2.10.3"            // å›¾è¡¨åº“
}
```

### è·¯ç”±ä¸çŠ¶æ€

```json
{
  "react-router-dom": "^6.20.0",      // è·¯ç”±
  "zustand": "^4.4.7"                 // çŠ¶æ€ç®¡ç†
}
```

### æ•°æ®è¯·æ±‚

```json
{
  "axios": "^1.6.2",                     // HTTP å®¢æˆ·ç«¯
  "@tanstack/react-query": "^5.14.0"    // æ•°æ®è·å–ä¸ç¼“å­˜
}
```

### å›½é™…åŒ–

```json
{
  "react-i18next": "^13.5.0",
  "i18next": "^23.7.6",
  "i18next-browser-languagedetector": "^7.2.0"
}
```

### å·¥å…·åº“

```json
{
  "dayjs": "^1.11.10",        // æ—¥æœŸå¤„ç†
  "lodash-es": "^4.17.21",    // å·¥å…·å‡½æ•°
  "file-saver": "^2.0.5",     // æ–‡ä»¶ä¸‹è½½
  "xlsx": "^0.18.5"           // Excel æ“ä½œ
}
```

---

## ğŸš€ éƒ¨ç½²è¯´æ˜

### 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

ç”Ÿæˆæ–‡ä»¶åœ¨ `dist/` ç›®å½•ã€‚

### 2. Nginx é…ç½®

```nginx
server {
    listen 80;
    server_name admin.topupforme.com;
    root /var/www/admin/dist;
    index index.html;

    # Gzip å‹ç¼©
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;

    # SPA è·¯ç”±é…ç½®
    location / {
        try_files $uri $uri/ /index.html;
    }

    # API ä»£ç†
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

### 3. Docker éƒ¨ç½²

```dockerfile
# Dockerfile
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

```bash
# æ„å»ºé•œåƒ
docker build -t topupforme-admin .

# è¿è¡Œå®¹å™¨
docker run -d -p 80:80 \
  -e VITE_API_BASE_URL=https://api.topupforme.com \
  topupforme-admin
```

### 4. ç¯å¢ƒå˜é‡é…ç½®

ç”Ÿäº§ç¯å¢ƒçš„ç¯å¢ƒå˜é‡:

```env
VITE_API_BASE_URL=https://api.topupforme.com
VITE_APP_NAME=topupforme Admin Panel
VITE_DEFAULT_LANGUAGE=en
VITE_ENABLE_DEBUG=false
```

---

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•

```bash
npm run test          # è¿è¡Œæµ‹è¯•
npm run test:coverage # æµ‹è¯•è¦†ç›–ç‡
```

### E2E æµ‹è¯•

```bash
npm run test:e2e      # Cypress E2E æµ‹è¯•
```

---

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

- ä½¿ç”¨ **ESLint** è¿›è¡Œä»£ç æ£€æŸ¥
- ä½¿ç”¨ **Prettier** è¿›è¡Œä»£ç æ ¼å¼åŒ–
- éµå¾ª **Airbnb React Style Guide**

### Git æäº¤è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ Bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·ç›¸å…³
```

### å‘½åè§„èŒƒ

- **ç»„ä»¶**: PascalCase (ä¾‹: `ProductList.tsx`)
- **Hook**: camelCase with `use` prefix (ä¾‹: `useAuth.ts`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (ä¾‹: `API_BASE_URL`)
- **å‡½æ•°**: camelCase (ä¾‹: `formatCurrency`)

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. ç«¯å£å†²çª

```bash
# ä¿®æ”¹ç«¯å£
vite.config.ts â†’ server.port: 5174
```

### 2. API è·¨åŸŸé—®é¢˜

```typescript
// vite.config.ts
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:3000',
      changeOrigin: true,
    },
  },
}
```

### 3. ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆ

- ç¡®ä¿å˜é‡ä»¥ `VITE_` å¼€å¤´
- é‡å¯å¼€å‘æœåŠ¡å™¨

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ‘¥ è´¡çŒ®è€…

- **å¼€å‘è€…**: topupforme Team
- **UI/UX**: Based on Ant Design

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**: https://github.com/topupforme/admin-panel
- **æ–‡æ¡£åœ°å€**: https://docs.topupforme.com/admin
- **Bug åé¦ˆ**: https://github.com/topupforme/admin-panel/issues

---

**ğŸ‰ æ„Ÿè°¢ä½¿ç”¨ topupforme Admin Panelï¼**
