(()=>{var e={};e.id=13,e.ids=[13],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},5768:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(7096),a=s(6132),l=s(7284),n=s.n(l),o=s(2564),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let c=["",{children:["[locale]",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3924)),"/home/runner/work/marketplace2/marketplace2/frontend/app/[locale]/checkout/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2501)),"/home/runner/work/marketplace2/marketplace2/frontend/app/[locale]/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"/home/runner/work/marketplace2/marketplace2/frontend/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,8196)),"/home/runner/work/marketplace2/marketplace2/frontend/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,4293)),"/home/runner/work/marketplace2/marketplace2/frontend/app/not-found.tsx"]}],d=["/home/runner/work/marketplace2/marketplace2/frontend/app/[locale]/checkout/page.tsx"],m="/[locale]/checkout/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[locale]/checkout/page",pathname:"/[locale]/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7416:(e,t,s)=>{Promise.resolve().then(s.bind(s,6941))},6941:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>CheckoutPage});var r=s(784),a=s(9885),l=s(4412),n=s(7114),o=s(3701),i=s(7407),c=s(7367);let d=i.Ry({email:i.Z_().email(),phone:i.Z_().optional(),firstName:i.Z_().min(1),lastName:i.Z_().min(1),address:i.Z_().min(1),city:i.Z_().min(1),postalCode:i.Z_().min(1),country:i.Z_().min(1)});function CheckoutPage(){let e=(0,l.useTranslations)("Checkout"),t=(0,n.useRouter)(),{items:s,clearCart:i}=(0,o.x)(),[m,u]=(0,a.useState)(!1),[p,x]=(0,a.useState)({}),handleSubmit=async e=>{e.preventDefault(),u(!0),x({});let r=new FormData(e.currentTarget),a=Object.fromEntries(r.entries());try{d.parse(a);let e=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:s,contactInfo:{email:a.email,phone:a.phone},billingInfo:{firstName:a.firstName,lastName:a.lastName,address:a.address,city:a.city,postalCode:a.postalCode,country:a.country},paymentMethod:a.paymentMethod||"credit_card"})}),r=await e.json();r.success?t.push(`/payment/${r.data.transactionId}`):alert(r.error?.message||"Checkout failed")}catch(e){if(e instanceof c.jm){let t={};e.errors.forEach(e=>{e.path[0]&&(t[e.path[0].toString()]=e.message)}),x(t)}else alert(e.message||"An error occurred")}finally{u(!1)}};return 0===s.length?r.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg text-gray-600 mb-4",children:e("emptyCart")}),r.jsx("a",{href:"/products",className:"text-blue-600 hover:underline",children:e("continueShopping")})]})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:e("title")}),(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"max-w-2xl mx-auto space-y-6",children:[(0,r.jsxs)("section",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("contactInfo")}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:[e("email")," *"]}),r.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),p.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.email})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-1",children:e("phone")}),r.jsx("input",{type:"tel",id:"phone",name:"phone",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,r.jsxs)("section",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("billingInfo")}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-1",children:[e("firstName")," *"]}),r.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),p.firstName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.firstName})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-1",children:[e("lastName")," *"]}),r.jsx("input",{type:"text",id:"lastName",name:"lastName",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),p.lastName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.lastName})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("label",{htmlFor:"address",className:"block text-sm font-medium mb-1",children:[e("address")," *"]}),r.jsx("input",{type:"text",id:"address",name:"address",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),p.address&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.address})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"city",className:"block text-sm font-medium mb-1",children:[e("city")," *"]}),r.jsx("input",{type:"text",id:"city",name:"city",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),p.city&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.city})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"postalCode",className:"block text-sm font-medium mb-1",children:[e("postalCode")," *"]}),r.jsx("input",{type:"text",id:"postalCode",name:"postalCode",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),p.postalCode&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.postalCode})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("label",{htmlFor:"country",className:"block text-sm font-medium mb-1",children:[e("country")," *"]}),r.jsx("input",{type:"text",id:"country",name:"country",required:!0,defaultValue:"Malaysia",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),p.country&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.country})]})]}),(0,r.jsxs)("section",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("paymentMethod")}),(0,r.jsxs)("select",{name:"paymentMethod",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"credit_card",children:e("creditCard")}),r.jsx("option",{value:"fpx",children:"FPX"}),r.jsx("option",{value:"tng",children:"Touch n Go"}),r.jsx("option",{value:"boost",children:"Boost"})]})]}),r.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e(m?"processing":"placeOrder")})]})]})}},3924:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=s(5153);let a=(0,r.createProxy)(String.raw`/home/runner/work/marketplace2/marketplace2/frontend/app/[locale]/checkout/page.tsx`),{__esModule:l,$$typeof:n}=a,o=a.default,i=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[6,492,504,317,407,761,502,701],()=>__webpack_exec__(5768));module.exports=s})();